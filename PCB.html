<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PCB Defect Detection | PCB缺陷检测</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        :root {
            --aws-blue: #232F3E;
            --aws-orange: #FF9900;
            --aws-light-blue: #1A73E8;
            --aws-light-gray: #F2F3F3;
            --aws-border-gray: #EAEDED;
            --aws-text-gray: #545B64;
        }

        body {
            padding: 20px;
            background-color: var(--aws-light-gray);
            font-family: "Amazon Ember", Arial, sans-serif;
            color: #333;
        }

        .aws-container {
            max-width: 1200px;
            background-color: white;
            border-radius: 8px;
            padding: 25px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            border: 1px solid var(--aws-border-gray);
        }

        .aws-header {
            border-bottom: 1px solid var(--aws-border-gray);
            margin-bottom: 20px;
            padding-bottom: 15px;
        }

        .aws-header h1 {
            color: var(--aws-blue);
            font-weight: 500;
        }

        .aws-sidebar {
            background-color: var(--aws-light-gray);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            border: 1px solid var(--aws-border-gray);
        }

        .aws-sidebar h4 {
            color: var(--aws-blue);
            font-size: 1.1rem;
            margin-bottom: 15px;
            font-weight: 500;
        }

        .aws-sidebar ul {
            padding-left: 20px;
            margin-bottom: 0;
        }

        .aws-sidebar li {
            margin-bottom: 8px;
            color: var(--aws-text-gray);
        }

        .aws-btn-primary {
            background-color: var(--aws-orange);
            border-color: var(--aws-orange);
            color: white;
            font-weight: 500;
            padding: 8px 16px;
            transition: all 0.2s;
        }

        .aws-btn-primary:hover {
            background-color: #EC7211;
            border-color: #EC7211;
            box-shadow: 0 0 0 2px rgba(255, 153, 0, 0.2);
        }

        .aws-form-control {
            border: 1px solid #ccc;
            border-radius: 4px;
            padding: 8px 12px;
            transition: all 0.2s;
        }

        .aws-form-control:focus {
            border-color: var(--aws-orange);
            box-shadow: 0 0 0 2px rgba(255, 153, 0, 0.2);
        }

        .loading {
            display: none;
            text-align: center;
            margin: 20px 0;
        }

        .spinner-border {
            width: 3rem;
            height: 3rem;
            color: var(--aws-orange) !important;
        }

        .result-container {
            margin-top: 20px;
            border: 1px solid var(--aws-border-gray);
            border-radius: 8px;
            padding: 20px;
        }

        .defect-summary {
            margin-top: 15px;
            padding: 15px;
            background-color: var(--aws-light-gray);
            border-radius: 5px;
            border-left: 4px solid var(--aws-orange);
        }

        .result-image {
            max-width: 100%;
            border-radius: 5px;
            margin-top: 15px;
            border: 1px solid var(--aws-border-gray);
        }

        .video-results {
            margin-top: 20px;
        }

        .sample-frame {
            margin-bottom: 15px;
        }

        .sample-frame img {
            max-width: 100%;
            border-radius: 5px;
            border: 1px solid var(--aws-border-gray);
        }

        .aws-section-title {
            color: var(--aws-blue);
            font-weight: 500;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--aws-border-gray);
        }

        .bilingual {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
        }

        .bilingual .en {
            font-weight: 500;
        }

        .bilingual .zh {
            color: var(--aws-text-gray);
            font-size: 0.9em;
        }
    </style>
</head>
<body>
<div class="container aws-container">
    <div class="aws-header">
        <div class="bilingual">
            <h1 class="en">PCB Defect Detection</h1>
            <h2 class="zh">PCB缺陷检测</h2>
        </div>
    </div>

    <div class="row">
        <div class="col-md-3">
            <div class="aws-sidebar">
                <div class="bilingual">
                    <h4 class="en">PCB Defect Classes</h4>
                    <div class="zh">PCB缺陷类型</div>
                </div>
                <ul>
                    <li><span class="en">Missing hole</span> | <span class="zh">缺孔</span></li>
                    <li><span class="en">Mouse bite</span> | <span class="zh">鼠咬</span></li>
                    <li><span class="en">Open circuit</span> | <span class="zh">断路</span></li>
                    <li><span class="en">Short</span> | <span class="zh">短路</span></li>
                    <li><span class="en">Spur</span> | <span class="zh">毛刺</span></li>
                    <li><span class="en">Spurious copper</span> | <span class="zh">多余铜箔</span></li>
                </ul>
            </div>
        </div>
        <div class="col-md-9">
            <div class="bilingual mb-3">
                <p class="lead en">Upload an image or video of a PCB to detect defects using computer vision.</p>
                <p class="lead zh">上传PCB图像或视频，使用计算机视觉技术检测缺陷。</p>
            </div>

            <div class="mb-4">
                <div class="bilingual mb-2">
                    <label for="fileInput" class="form-label en">Upload an image or video</label>
                    <label for="fileInput" class="form-label zh">上传图像或视频</label>
                </div>
                <input class="form-control aws-form-control" type="file" id="fileInput" accept="image/jpeg,image/png,image/jpg,video/mp4">
            </div>

            <button id="detectButton" class="btn aws-btn-primary">
                <span class="en">Detect Defects</span> | <span class="zh">检测缺陷</span>
            </button>

            <div id="loading" class="loading">
                <div class="spinner-border" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
                <div class="mt-3 bilingual">
                    <p class="en">Processing... This may take a moment.</p>
                    <p class="zh">处理中...这可能需要一点时间。</p>
                </div>
            </div>

            <div id="resultContainer" class="result-container" style="display: none;">
                <div class="aws-section-title bilingual">
                    <h3 class="en">Detection Results</h3>
                    <h3 class="zh">检测结果</h3>
                </div>

                <!-- For image results -->
                <div id="imageResults">
                    <div class="defect-summary" id="imageSummary"></div>
                    <img id="resultImage" class="result-image" alt="Processed Image">
                </div>

                <!-- For video results -->
                <div id="videoResults" class="video-results">
                    <div class="defect-summary" id="videoSummary"></div>
                    <div class="aws-section-title bilingual">
                        <h4 class="en">Sample Frames with Detections</h4>
                        <h4 class="zh">包含检测结果的样本帧</h4>
                    </div>
                    <div id="sampleFrames" class="row"></div>
                </div>
            </div>
        </div>

